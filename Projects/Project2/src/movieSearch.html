<!DOCTYPE html>
<!--
   To change this license header, choose License Headers in Project Properties.
   To change this template file, choose Tools | Templates
   and open the template in the editor.
   -->
<html>
   <head>
      <title>Movie Search</title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
      <style>
         div.box {
         position: absolute;
         top: 0%;
         left: 30%;
         margin-top: -50px;
         height: 100px;
         width: 400px;
         border: 5px solid black;
         padding: 30px;
         margin: 0px;
         color: white;
         background-color: black;
         }
      </style>
   </head>
   <body>
      <div class="box">
         <form>
            <h1 style="text-align:center">Movie Search</h1>
            <br> 
            Enter Keywords: <input type="text" id="keyword" name="Keyword">
            <input type="button" onclick="submitKey(keyword);" value="Submit Query"/>   
         </form>
      </div>
      <section>
         <div id="main"> </div>
         <div id="director"> </div>
         <div id="productionCompany"> </div>
         <div id="year"> </div>
      </section>
      <script>
         function submitKey() {  
              $(document).ready(function () {
                 $.ajax({
                     type: "GET",
                     url: "playList.xml",
                     dataType: "xml",
                     success:
                             function (xml) {
         var keyword = document.getElementById("keyword").value;
         if(keyword == "harrypotter" || keyword == "jkrowlings" ){
                                 var movie = $(xml).find('movie')[0];
                                 var title = $(movie).find('title').text();
                                 var director = $(movie).find('director').find('name').text();
                                 var productionCompany = $(movie).find('productionCompany').text();
                                 var year = $(movie).find('year').text();
                                 $('#main').html("Movie: "+title);
         $('#director').html("Director: "+director);
         $('#productionCompany').html("Company: "+productionCompany);
         $('#year').html("Year: "+year);
         } else if(keyword == "manofsteel"){
                                 var movie = $(xml).find('movie')[1];
                                 var title = $(movie).find('title').text();
                                 var director = $(movie).find('director').find('name').text();
                                 var productionCompany = $(movie).find('productionCompany').text();
                                 var year = $(movie).find('year').text();
                                 $('#main').html("Movie: "+title);
         $('#director').html("Director: "+director);
         $('#productionCompany').html("productionCompany: "+productionCompany);
         $('#year').html("Year: "+year);
         }  else if(keyword == "batman"){
                                 var movie = $(xml).find('movie')[2];
                                 var title = $(movie).find('title').text();
                                 var director = $(movie).find('director').find('name').text();
                                 var productionCompany = $(movie).find('productionCompany').text();
                                 var year = $(movie).find('year').text();
                                 $('#main').html("Movie: "+title);
         $('#director').html("Director: "+director);
         $('#productionCompany').html("Company: "+productionCompany);
         $('#year').html("Year: "+year);
         } 
                             },
                     error: function (xhr, status, error) {
                         var errorMessage = xhr.status + ': ' + xhr.statusText;
                         alert('Error - ' + errorMessage);
                     }
                
             }); //close $.ajax(
         }); //close $(
         }
      </script>
   </body>
</html>
