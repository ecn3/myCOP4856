INSERT INTO MOVIE_TABLE (director, imdbRef, year, metascore, rottenTomatoes)
SELECT
   movie1.movie.query('director').value('.', 'VARCHAR(20)'),
   movie1.movie.query('imdbRef').value('.', 'VARCHAR(10)'),
   movie1.movie.query('year').value('.', 'INT'),
   movie1.movie.query('metascore').value('.', 'INT'),
   movie1.movie.query('rottenTomatoes').value('.', 'INT'),
FROM (SELECT CAST(MY_XML AS xml)
      FROM OPENROWSET(BULK 'movie1.xml', SINGLE_BLOB) AS T(MY_XML)) AS T(MY_XML)
      CROSS APPLY MY_XML.nodes('movie') AS MY_XML (movie);



